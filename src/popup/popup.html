<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CoverMe</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <header>
      <div class="logo-container">
        <img src="../icons/icon48.png" alt="CoverMe Logo" class="logo">
        <h1>CoverMe</h1>
      </div>
      <div id="profile-status"></div>
    </header>
    
    <!-- Job detection status -->
    <div id="job-detection-status">
      <div class="status-card">
        <div class="spinner"></div>
        <div class="job-status-message">Checking for job description...</div>
      </div>
    </div>
    
    <!-- Job detected view -->
    <div id="job-detected" class="hidden">
      <div class="job-info">
        <button id="job-back-btn" class="icon-btn back-btn">
          <span class="btn-icon">‚Üê</span>
        </button>
        <div class="job-details-card">
          <h2 id="job-title" class="job-title"></h2>
          <p id="company-name" class="company-name"></p>
        </div>
      </div>
      
      <div class="generator-options">
        <h3>Style Your Cover Letter</h3>
        
        <div class="option-group">
          <label for="template-select">Template Style</label>
          <div class="select-wrapper">
            <select id="template-select">
              <option value="formal">Formal</option>
              <option value="modern">Modern</option>
              <option value="creative">Creative</option>
            </select>
            <span class="select-arrow">‚ñº</span>
          </div>
        </div>
        
        <div class="option-group">
          <label for="tone-select">Tone</label>
          <div class="select-wrapper">
            <select id="tone-select">
              <option value="professional">Professional</option>
              <option value="enthusiastic">Enthusiastic</option>
              <option value="balanced">Balanced</option>
            </select>
            <span class="select-arrow">‚ñº</span>
          </div>
        </div>
        
        <button id="generate-btn" class="primary-btn">
          <span class="btn-icon"></span>
          Generate Cover Letter
        </button>
      </div>
    </div>
    
    <!-- No job detected view -->
    <div id="no-job-detected" class="hidden">
      <div class="status-card job-detection-card">
        <div class="status-icon">üîç</div>
        <h3>No Job Description Detected</h3>
        <p>You can manually paste the job description below:</p>
      </div>
      
      <div class="manual-input">
        <textarea id="manual-job-description" placeholder="Paste the job description here..."></textarea>
        
        <div class="form-row">
          <div class="form-group">
            <label for="manual-job-title">Job Title</label>
            <input type="text" id="manual-job-title" placeholder="e.g., Software Engineer">
          </div>
          
          <div class="form-group">
            <label for="manual-company-name">Company Name</label>
            <input type="text" id="manual-company-name" placeholder="e.g., TechCorp Inc.">
          </div>
        </div>
        
        <button id="manual-submit-btn" class="primary-btn">
          <span class="btn-icon"></span>
          Use This Description
        </button>
      </div>
    </div>
    
    <!-- Profile incomplete view -->
    <div id="profile-incomplete" class="hidden">
      <div class="status-card">
        <div class="status-icon">üë§</div>
        <h3>Profile Incomplete</h3>
        <p>Please complete your profile to generate personalized cover letters.</p>
        <button id="setup-profile-btn" class="primary-btn">Complete Your Profile</button>
      </div>
    </div>

    <!-- API key missing view -->
    <div id="api-key-missing" class="hidden">
      <div class="status-card">
        <div class="status-icon">üîë</div>
        <h3>API Key Required</h3>
        <p>You need to configure your Google Gemini API key to generate cover letters.</p>
        <div class="api-explanation">
          <p>Your API key is used to connect securely to Google's AI service that powers CoverMe.</p>
        </div>
        <button id="setup-api-key-btn" class="primary-btn">Configure API Key</button>
      </div>
    </div>
    
    <!-- Cover letter output view -->
    <div id="cover-letter-output" class="hidden">
      <div class="letter-actions">
        <button id="back-btn" class="icon-btn back-btn">
          <span class="btn-icon">‚Üê</span>
          <span>Back</span>
        </button>
        
        <div class="action-group">
          <button id="edit-btn" class="secondary-btn">
            <span class="btn-icon">‚úé</span>
            <span>Edit</span>
          </button>
          <button id="custom-prompt-btn" class="secondary-btn">
            <span class="btn-icon">üí¨</span>
            <span>Custom</span>
          </button>
        </div>
      </div>

      <!-- Custom prompt modal -->
      <div id="custom-prompt-modal" class="modal hidden">
        <div class="modal-content">
          <div class="modal-header">
            <h3>Custom Edit Instructions</h3>
            <button class="close-modal">√ó</button>
          </div>
          <div class="modal-body">
            <p>Tell the AI how you want to modify your cover letter:</p>
            <textarea id="custom-prompt" placeholder="E.g., Make it more enthusiastic, emphasize my leadership skills, make it more concise..."></textarea>
          </div>
          <div class="modal-footer">
            <button class="cancel-modal secondary-btn">Cancel</button>
            <button id="apply-custom-prompt" class="primary-btn">Apply Changes</button>
          </div>
        </div>
      </div>

      <div class="letter-preview">
        <textarea id="letter-content" readonly></textarea>
      </div>

      <div class="primary-actions">
        <button id="download-btn" class="primary-btn">
          <span class="btn-icon">‚Üì</span>
          Download Cover Letter
        </button>
        <button id="save-template-btn" class="secondary-btn">
          <span class="btn-icon">üíæ</span>
          Save as Template
        </button>
      </div>
    </div>

    <!-- Footer actions -->
    <div class="footer-actions">
      <button id="edit-profile-btn" class="nav-btn">
        <span class="btn-icon">üë§</span>
        Profile
      </button>
      <button id="view-templates-btn" class="nav-btn">
        <span class="btn-icon">üìÑ</span>
        Templates
      </button>
      <button id="settings-btn" class="nav-btn">
        <span class="btn-icon">‚öôÔ∏è</span>
        Settings
      </button>
    </div>

    <div class="version-info">CoverMe v1.0.0</div>
  </div>
  
  <script src="popup.js"></script>
</body>
</html>